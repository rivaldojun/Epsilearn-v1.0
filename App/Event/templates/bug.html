{% extends "base.html" %}

{% block style %}

<style>
 
 body, html {
            background-color: #f5f5f5;
        }
  .event-block {
    
    border-radius: 10px;
    padding: 0;
    background-color: #ffff;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    scale: 0.8;
  }
  .event-block:hover {
    cursor: pointer;
        scale: 0.82;
        transition: 0.3s;
  }
  .pass-button {
    background-color: #292727;
    color: #ffffff;
    border: none;
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
    margin-bottom: 60px;
    float: right;

  }
  #evenement{
   text-decoration: overline ;
   color: rgb(0, 0, 0)
 }
  .choose-button {
    background-color: #099c15;
    color: #fff;
    border: none;
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 10px;
  }
  .img-fluid{
    height: 80vh;
    width: 100%;
  }
  .plus-button {
    background-color: blue;
    color: #ffffff;
    border: none;
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
    margin-bottom: 60px;
    float: right;
    margin-right: 20px;
  }
  .stylish-input-group {
    border: 1px solid #ccc;
    border-radius: 25px;
    padding: 5px 15px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    background-color: white;
    display: inline-block;
    width: auto;
}

.stylish-input-group input[type="text"] {
    border: none;
    outline: none;
    box-shadow: none;
    padding: 15px;
    font-size: 14px;
    width: 120px;
    transition: width 0.3s ease-in-out;
    border-radius: 25px 0px 0px 25px;
}

.stylish-input-group input[type="text"]:focus {
    width: 100%;
}

.stylish-input-group .input-group-append button {
    border: none;
    outline: none;
    background-color: blue;
    color: white;
    padding: 5px 10px;
    border-radius: 0px 25px 25px 0px;
    cursor: pointer;
}

.stylish-input-group .input-group-append button:hover {
    background-color: #0056b3;
}

.pass-button:hover{
  scale: 1.2;
  transition: 0.3s;
}
.plus-button:hover{
  scale: 1.2;
  transition: 0.3s;
}
#foot{
  display: none;
}
#soutenance{
  display: none;
}
#autre{
  display: none;
}
#party{
  display: none;
}
#presentation{
  display: none;
}
#genie{
  display: none;
}
#competition{
  display: none;
}
#cours{
  display: none;
}
#Seminaire{
  display: none;
}


#footlink{
  display: none;
}
#soutenancelink{
  display: none;
}
#autrelink{
  display: none;
}
#partylink{
  display: none;
}
#presentationlink{
  display: none;
}
#genielink{
  display: none;
}
#competitionlink{
  display: none;
}
#courslink{
  display: none;
}
#Seminairelink{
  display: none;
}
</style>
{% endblock %}

{% block content %}
{% if user_type!='professeur' and user_type!='etudiant' %}

<style>
  #panier{
    visibility: hidden;
  }
  .plus-button{
    visibility: hidden;
  }
  #res{
    visibility: hidden;
  }
  
 /* Styles pour la barre de recherche */

</style>
{% endif %}
<div class="container mt-5">

  <button id="panier" class="pass-button" style="background-color: transparent;" onclick="window.location.href = '/mesevenements'" data-toggle="tooltip" data-placement="top" title="Voir vos réservations" style="z-index: 1000000000;">
    <i class="fas fa-shopping-cart" style="color: rgb(0, 0, 255);">
      <span style="background-color: red;scale: 1;float: right;border-radius: 60%;color: white;font-size: 10px;font-family: 'Kanit';padding: 2px;height: 15px;width: 15px;text-align: center;">{{ne}}</span>
    </i>
  </button>
  <button id="panier" class="pass-button" style="background-color: transparent;" onclick="window.location.href = '/my_events'" data-toggle="tooltip" data-placement="top" title="Tableau de bord" style="z-index: 1000000000;">
    <i class="fas fa-shopping-cart" style="color: rgb(0, 0, 255);">
      </i>
  </button>
  <button class="plus-button" style="background-color: transparent;" onclick="window.location.href = '/ajouterevenement'" data-toggle="tooltip" data-placement="top" title="Ajouter un évenement" style="z-index: 10000000000;">
    <i class="fas fa-plus" style="color: blue;"></i>
  </button>
  
</div>
<!-- Modale de réservation -->


<div class="container" >
  <h3 class="mb-4 mt-5 " data-animation="fadeInUp" style="animation-duration: 1s;color: rgb(0, 0, 0); font-family: 'Kanit';font-size: 38px;">Événements</h3>
  <h5 class="text-center animate-element" data-animation="fadeInUp" style="animation-duration: 1.4s;"><br><br>
    Parce que le divertissement est pour le travail ce que l'inspiration est pour l'expiration, les <span style="color: blue;">#événements</span> sont là pour vous apporter une pause rafraîchissante dans votre quête de connaissance et d'amélioration.</h5>
  <div class="input-group stylish-input-group mt-4 mb-3 animate-element" data-animation="fadeInUp" style="animation-duration: 1.8s;">
    <input type="text" class="form-control" id="searchInput" placeholder="Rechercher par nom">
  </div>
</div>
<br>


<div class="container">
<h5 id="Seminaire" class="animate-element" data-animation="fadeInUp" style="animation-duration: 2s;">Seminaire</h5>
  <div class="row animate-element" data-animation="fadeInUp" style="animation-duration: 2s;" id="eventCards" >
    <!-- Blocs des informations d'événement seront insérés ici dynamiquement -->
  </div>
  <a href='{{ url_for('plusevenement', typer="Seminaire") }}' id="Seminairelink" class="animate-element" data-animation="fadeInUp" style="animation-duration: 2s;background-color: black;color: white;padding: 10px;border-radius: 20px;width: fit-content;text-decoration: none;">Voir plus</a>
  <br>
  <h5 id="cours" class="animate-element" data-animation="fadeInUp" style="animation-duration: 2s;">Cours</h5>
  <div class="row animate-element" data-animation="fadeInUp" style="animation-duration: 2s;" id="eventCardscours" >
    <!-- Blocs des informations d'événement seront insérés ici dynamiquement -->
  </div>
  <a href='{{ url_for('plusevenement', typer="Cours") }}' id="courslink" class="animate-element" data-animation="fadeInUp" style="animation-duration: 2s;background-color: black;color: white;padding: 10px;border-radius: 20px;width: fit-content;text-decoration: none;">Voir plus</a>
  <br>
  <h5 id="presentation" class="animate-element" data-animation="fadeInUp" style="animation-duration: 2s;">Presentation de projet</h5>
  <div class="row animate-element" data-animation="fadeInUp" style="animation-duration: 2s;" id="eventCardspresentation" >
    <!-- Blocs des informations d'événement seront insérés ici dynamiquement -->
  </div>
  <a href='{{ url_for('plusevenement', typer='Presentation') }}' id="presentationlink" class="animate-element" data-animation="fadeInUp" style="animation-duration: 2s;background-color: black;color: white;padding: 10px;border-radius: 20px;width: fit-content;text-decoration: none;">Voir plus</a>
  <br>
  <h5 id="soutenance" class="animate-element" data-animation="fadeInUp" style="animation-duration: 2s;">Essai de soutenance</h5>
  <div class="row animate-element" data-animation="fadeInUp" style="animation-duration: 2s;" id="eventCardssoutenance" >
    <!-- Blocs des informations d'événement seront insérés ici dynamiquement -->
  </div>
  <a href='{{ url_for('plusevenement', typer="Essai de soutenance") }}' id="soutenancelink" class="animate-element" data-animation="fadeInUp" style="animation-duration: 2s;background-color: black;color: white;padding: 10px;border-radius: 20px;width: fit-content;text-decoration: none;">Voir plus</a>
  <br>
  <h5 id="competition" class="animate-element" data-animation="fadeInUp" style="animation-duration: 2s;">Competition</h5>
  <div class="row animate-element" data-animation="fadeInUp" style="animation-duration: 2s;" id="eventCardscompetion" >
    <!-- Blocs des informations d'événement seront insérés ici dynamiquement -->
  </div>
  <a href='{{ url_for('plusevenement', typer="Competition") }}' id="competitionlink" class="animate-element" data-animation="fadeInUp" style="animation-duration: 2s;background-color: black;color: white;padding: 10px;border-radius: 20px;width: fit-content;text-decoration: none;">Voir plus</a>
  <br>
  <h5 id="genie" class="animate-element" data-animation="fadeInUp" style="animation-duration: 2s;">Genie en Herbe</h5>
  <div class="row animate-element" data-animation="fadeInUp" style="animation-duration: 2s;" id="eventCardsgenie" >
    <!-- Blocs des informations d'événement seront insérés ici dynamiquement -->
  </div>
  <a href='{{ url_for('plusevenement', typer="Genie en Herbe") }}' id="genielink" class="animate-element" data-animation="fadeInUp" style="animation-duration: 2s;background-color: black;color: white;padding: 10px;border-radius: 20px;width: fit-content;text-decoration: none;">Voir plus</a>
  <br>
  <h5 id="foot" class="animate-element" data-animation="fadeInUp" style="animation-duration: 2s;">Football</h5>
  <div class="row animate-element" data-animation="fadeInUp" style="animation-duration: 2s;" id="eventCardsfoot" >
    <!-- Blocs des informations d'événement seront insérés ici dynamiquement -->
  </div>
  <a href='{{ url_for('plusevenement', typer="Football") }}' id="footlink" class="animate-element" data-animation="fadeInUp" style="animation-duration: 2s;background-color: black;color: white;padding: 10px;border-radius: 20px;width: fit-content;text-decoration: none;">Voir plus</a>
  <br>
  <h5 id="party" class="animate-element" data-animation="fadeInUp" style="animation-duration: 2s;">Party</h5>
  <div class="row animate-element" data-animation="fadeInUp" style="animation-duration: 2s;" id="eventCardsparty" >
    <!-- Blocs des informations d'événement seront insérés ici dynamiquement -->
  </div>
  <a href='{{ url_for('plusevenement', typer="Party") }}' id="partylink" class="animate-element" data-animation="fadeInUp" style="animation-duration: 2s;background-color: black;color: white;padding: 10px;border-radius: 20px;width: fit-content;text-decoration: none;">Voir plus</a>
  <br>
  <h5 id="autre" class="animate-element" data-animation="fadeInUp" style="animation-duration: 2s;">Autre</h5>
  <div class="row animate-element" data-animation="fadeInUp" style="animation-duration: 2s;" id="eventCardsautre" >
    <!-- Blocs des informations d'événement seront insérés ici dynamiquement -->
  </div>
  <a href='{{ url_for('plusevenement', typer="Autre") }}' id="autrelink" class="animate-element" data-animation="fadeInUp" style="animation-duration: 2s;background-color: black;color: white;padding: 10px;border-radius: 20px;width: fit-content;text-decoration: none;">Voir plus</a>
 <div style="height: 20px;">

 </div> 

</div>
<div class="modal fade" id="reservationModal" tabindex="-1" role="dialog" aria-labelledby="reservationModalLabel" aria-hidden="true" style="margin-top: 120px;">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="reservationModalLabel">Réservation effectuée</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Vous avez réservé un événement avec succès !
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
      </div>
    </div>
  </div>
</div>
</div>
<!-- Inclure les fichiers Bootstrap JavaScript -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
$(document).ready(function() {
  $('[data-toggle="tooltip"]').tooltip();
  const panierButton = document.getElementById("panier");
  function redirectToAccueil() {
    // Implémentez ici la logique pour rediriger vers la page d'accueil
    // Par exemple, vous pouvez utiliser window.location pour rediriger
    window.location.href = "/accueil";
  }
  panierButton.addEventListener("click", function() {
   // Redirigez l'utilisateur vers la page souhaitée lorsque le bouton est cliqué
   window.location.href = "/mesevenements";
 });
  
    let eventList = []; // Declare eventList variable to store event data

    // Fetch event data from the server
    function loadUsers() {
      fetch('/get_event')
        .then(response => response.json())
        .then(data => {
          eventList=data
          displayUsers(eventList);
        })
        .catch(error => {
          console.error('Error fetching event data:', error);
        });
    }
    let pr=0
    let sem=0
    let ft=0
    let crs=0
    let gen=0
    let com=0
    let prt=0
    let atr=0
    let stce=0
    function displayUsers(eventL) {
      const eventCardsDiv = document.getElementById("eventCards");
      const eventCardsDivfoot = document.getElementById("eventCardsfoot");
      const eventCardsDivcours = document.getElementById("eventCardscours");
      const eventCardsDivpresentation = document.getElementById("eventCardspresentation");
      const eventCardsDivgenie = document.getElementById("eventCardsgenie");
      const eventCardsDivcompetition = document.getElementById("eventCardscompetition");
      const eventCardsDivparty = document.getElementById("eventCardsparty");
      const eventCardsDivautre = document.getElementById("eventCardsautre");
      const eventCardsDivsoutenance = document.getElementById("eventCardssoutenance");

      const seminaire = document.getElementById("Seminaire");
      const foot = document.getElementById("foot");
      const cours = document.getElementById("cours");
      const presentation = document.getElementById("presentation");
      const genie = document.getElementById("genie");
      const competition = document.getElementById("competition");
      const party = document.getElementById("party");
      const autre = document.getElementById("autre");
      const soutenance = document.getElementById("soutenance");

      const seminairelink = document.getElementById("Seminairelink");
      const footlink = document.getElementById("footlink");
      const courslink = document.getElementById("courslink");
      const presentationlink = document.getElementById("presentationlink");
      const genielink = document.getElementById("genielink");
      const competitionlink = document.getElementById("competitionlink");
      const partylink = document.getElementById("partylink");
      const autrelink = document.getElementById("autrelink");
      const soutenancelink = document.getElementById("soutenancelink");
      
      eventCardsDiv.innerHTML = "";
      eventL.forEach(event => {
        const card = document.createElement("div");
        card.addEventListener("click", function () {
          window.location.href = `/details_evenements/${event.id}`;
        });
        card.className = "col-lg-4 col-md-6 col-sm-12 event-block";
        card.innerHTML = `
  <div class="card shadow-lg">
    <div class="bg-image hover-overlay ripple" data-mdb-ripple-color="light">
      ${
        event.photo !== "" ? (
          event.photo.endsWith(".mp4") || event.photo.endsWith(".avi") || event.photo.endsWith(".mov")
            ? `<video class="img-fluid" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;" controls>
                 <source src="${event.photo}" type="video/mp4">
                 Your browser does not support the video tag.
               </video>`
            : `<img src="${event.photo}" class="img-fluid" alt="Media de l'événement" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">`
        ) : `<img src="../static/image/2.png" class="img-fluid" alt="Image par défaut" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">`
      }
      <a href="#!">
        <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
      </a>
    </div>
    <div class="card-body">
      <p><strong><span style="color: red;">${event.date}</span></strong> </p>   
      <p ><strong>${event.pays } , ${event.ville }</strong> </p
      <h5 class="card-title font-weight-bold">${event.nomevent}</h5>
      <p><strong>Type :</strong> ${event.type}</p>
      <p><strong>Nombre de place total:</strong> ${event.nbplace}</p>
      <p><strong>Nombre de place restant:</strong> ${event.nbplace - event.nbplace_occupe}</p>
      <p><strong>En ligne:</strong> ${event.live}</p>
      <p><strong><i class="fa fa-eye"></i> </strong> ${event.vue}</p>
      <hr>
      ${
        event.organisateurid !== event.ig
          ? `<a href="/reserver/${event.id}" class="btn btn-primary reserve-button">Réserver</a>`
          : ''
      }
      ${
        event.organisateurid == event.ig
          ? `<a href="/supprimerevent/${event.id}" class="btn btn reserve-button" style="background-color:blue;color:white">Supprimer</a>`
          : ''
      }
      <!-- Autres informations de l'événement -->
    </div>
  </div>

`;
if (event.type=="Football" & ft < 3){
eventCardsDivfoot.appendChild(card)
foot.style.display="block"
footlink.style.display="block"
}
if (event.type=="Genie en Herbe" & gen < 3){
eventCardsDivgenie.appendChild(card)
genie.style.display="block"
genielink.style.display="block"
}
if (event.type=="Cours" & crs < 3){
eventCardsDivcours.appendChild(card)
cours.style.display="block"
courslink.style.display="block"
}
if (event.type=="Presentation" & pr < 3){
eventCardsDivpresentation.appendChild(card)
presentation.style.display="block"
presentationlink.style.display="block"
pr=pr+1
}
if (event.type=="Essai de soutenance" & stce < 3){
eventCardsDivsoutenance.appendChild(card)
soutenance.style.display="block"
soutenancelink.style.display="block"
}
if (event.type=="Competition" & com < 3){
eventCardsDivcompetition.appendChild(card)
competition.style.display="block"
competitionlink.style.display="block"
}
if (event.type=="Party" & prt < 3){
eventCardsDivparty.appendChild(card)
party.style.display="block"
partylink.style.display="block"
}
if (event.type=="Autre" & atr < 3){
eventCardsDivautre.appendChild(card)
autre.style.display="block"
autrelink.style.display="block"
}
if (event.type=="Seminaire" & sem < 3){
eventCardsDiv.appendChild(card)
seminaire.style.display="block"
seminairelink.style.display="block"
}

        
      });
    }

    function filterUsers(searchText) {
  const filteredUsers = eventList.filter(event => {
    const fullName = `${event.pays}`.toLowerCase();
    return fullName.includes(searchText.toLowerCase());
  });
  displayUsers(filteredUsers);
}

// Search event input event listener
$('#searchInput').keyup(function() {
  const searchText = $(this).val().trim();
  if (searchText === '') {
    displayUsers(eventList); // Display all events when the search input is empty
  } else {
    filterUsers(searchText);
  }
});


    // Call this function to load eventList initially
    loadUsers();

  });
</script>
{% endblock %}


            details evenement



            {% extends "base.html" %}

            {% block style %}
            
              <style>
            
            body{margin-top:20px;
            background-color: #f5f5f5f5;
            }
            .blog-listing {
                padding-top: 30px;
                padding-bottom: 30px;
            }
            
            /* Blog 
            ---------------------*/
            .blog-grid {
              box-shadow: 0 0 30px rgba(31, 45, 61, 0.125);
              border-radius: 5px;
              overflow: hidden;
              background: #ffffff;
              margin-top: 15px;
              margin-bottom: 15px;
            }
            .blog-grid .blog-img {
              position: relative;
            }
            .blog-grid .blog-img .date {
              position: absolute;
              background: #fc5356;
              color: #ffffff;
              padding: 8px 15px;
              left: 10px;
              top: 10px;
              border-radius: 4px;
            }
            .blog-grid .blog-img .date span {
              font-size: 22px;
              display: block;
              line-height: 22px;
              font-weight: 700;
            }
            .blog-grid .blog-img .date label {
              font-size: 14px;
              margin: 0;
            }
            .blog-grid .blog-info {
              padding: 20px;
            }
            .blog-grid .blog-info h5 {
              font-size: 22px;
              font-weight: 700;
              margin: 0 0 10px;
            }
            .blog-grid .blog-info h5 a {
              color: #20247b;
            }
            .blog-grid .blog-info p {
              margin: 0;
            }
            .blog-grid .blog-info .btn-bar {
              margin-top: 20px;
            }
            
            
            /* Blog Sidebar
            -------------------*/
            .blog-aside .widget {
              box-shadow: 0 0 30px rgba(31, 45, 61, 0.125);
              border-radius: 5px;
              overflow: hidden;
              background: #ffffff;
              margin-top: 15px;
              margin-bottom: 15px;
              width: 100%;
              display: inline-block;
              vertical-align: top;
            }
            .blog-aside .widget-body {
              padding: 15px;
            }
            .blog-aside .widget-title {
              padding: 15px;
              border-bottom: 1px solid #eee;
            }
            .blog-aside .widget-title h3 {
              font-size: 20px;
              font-weight: 700;
              color: #fc5356;
              margin: 0;
            }
            .blog-aside .widget-author .media {
              margin-bottom: 15px;
            }
            .blog-aside .widget-author p {
              font-size: 16px;
              margin: 0;
            }
            .blog-aside .widget-author .avatar {
              width: 70px;
              height: 70px;
              border-radius: 50%;
              overflow: hidden;
            }
            .blog-aside .widget-author h6 {
              font-weight: 600;
              color: #20247b;
              font-size: 22px;
              margin: 0;
              padding-left: 20px;
            }
            .blog-aside .post-aside {
              margin-bottom: 15px;
            }
            .blog-aside .post-aside .post-aside-title h5 {
              margin: 0;
            }
            .blog-aside .post-aside .post-aside-title a {
              font-size: 18px;
              color: #20247b;
              font-weight: 600;
            }
            .blog-aside .post-aside .post-aside-meta {
              padding-bottom: 10px;
            }
            .blog-aside .post-aside .post-aside-meta a {
              color: #6F8BA4;
              font-size: 12px;
              text-transform: uppercase;
              display: inline-block;
              margin-right: 10px;
            }
            .blog-aside .latest-post-aside + .latest-post-aside {
              border-top: 1px solid #eee;
              padding-top: 15px;
              margin-top: 15px;
            }
            .blog-aside .latest-post-aside .lpa-right {
              width: 90px;
            }
            .blog-aside .latest-post-aside .lpa-right img {
              border-radius: 3px;
            }
            .blog-aside .latest-post-aside .lpa-left {
              padding-right: 15px;
            }
            .blog-aside .latest-post-aside .lpa-title h5 {
              margin: 0;
              font-size: 15px;
            }
            .blog-aside .latest-post-aside .lpa-title a {
              color: #20247b;
              font-weight: 600;
            }
            .blog-aside .latest-post-aside .lpa-meta a {
              color: #6F8BA4;
              font-size: 12px;
              text-transform: uppercase;
              display: inline-block;
              margin-right: 10px;
            }
            
            .tag-cloud a {
              padding: 4px 15px;
              font-size: 13px;
              color: #ffffff;
              background: #20247b;
              border-radius: 3px;
              margin-right: 4px;
              margin-bottom: 4px;
            }
            .tag-cloud a:hover {
              background: #fc5356;
            }
            
            .blog-single {
              padding-top: 30px;
              padding-bottom: 30px;
            }
            
            .article {
              box-shadow: 0 0 30px rgba(31, 45, 61, 0.125);
              border-radius: 5px;
              overflow: hidden;
              background: #ffffff;
              padding: 15px;
              margin: 15px 0 30px;
            }
            .article .article-title {
              padding: 15px 0 20px;
            }
            .article .article-title h6 {
              font-size: 14px;
              font-weight: 700;
              margin-bottom: 20px;
            }
            .article .article-title h6 a {
              text-transform: uppercase;
              color: #fc5356;
              border-bottom: 1px solid #fc5356;
            }
            .article .article-title h2 {
              color: #20247b;
              font-weight: 600;
            }
            .article .article-title .media {
              padding-top: 15px;
              border-bottom: 1px dashed #ddd;
              padding-bottom: 20px;
            }
            .article .article-title .media .avatar {
              width: 45px;
              height: 45px;
              border-radius: 50%;
              overflow: hidden;
            }
            .article .article-title .media .media-body {
              padding-left: 8px;
            }
            .article .article-title .media .media-body label {
              font-weight: 600;
              color: #fc5356;
              margin: 0;
            }
            .article .article-title .media .media-body span {
              display: block;
              font-size: 12px;
            }
            .article .article-content h1,
            .article .article-content h2,
            .article .article-content h3,
            .article .article-content h4,
            .article .article-content h5,
            .article .article-content h6 {
              color: #20247b;
              font-weight: 600;
              margin-bottom: 15px;
            }
            .article .article-content blockquote {
              max-width: 600px;
              padding: 15px 0 30px 0;
              margin: 0;
            }
            .article .article-content blockquote p {
              font-size: 20px;
              font-weight: 500;
              color: #fc5356;
              margin: 0;
            }
            .article .article-content blockquote .blockquote-footer {
              color: #20247b;
              font-size: 16px;
            }
            .article .article-content blockquote .blockquote-footer cite {
              font-weight: 600;
            }
            .article .tag-cloud {
              padding-top: 10px;
            }
            
            .article-comment {
              box-shadow: 0 0 30px rgba(31, 45, 61, 0.125);
              border-radius: 5px;
              overflow: hidden;
              background: #ffffff;
              padding: 20px;
            }
            .article-comment h4 {
              color: #20247b;
              font-weight: 700;
              margin-bottom: 25px;
              font-size: 22px;
            }
            img {
                max-width: 100%;
            }
            img {
                vertical-align: middle;
                border-style: none;
            }
            
            /* Contact Us
            ---------------------*/
            .contact-name {
              margin-bottom: 30px;
            }
            .contact-name h5 {
              font-size: 22px;
              color: #20247b;
              margin-bottom: 5px;
              font-weight: 600;
            }
            .contact-name p {
              font-size: 18px;
              margin: 0;
            }
            
            .social-share a {
              width: 40px;
              height: 40px;
              line-height: 40px;
              border-radius: 50%;
              color: #ffffff;
              text-align: center;
              margin-right: 10px;
            }
            .social-share .dribbble {
              box-shadow: 0 8px 30px -4px rgba(234, 76, 137, 0.5);
              background-color: #ea4c89;
            }
            .social-share .behance {
              box-shadow: 0 8px 30px -4px rgba(0, 103, 255, 0.5);
              background-color: #0067ff;
            }
            .social-share .linkedin {
              box-shadow: 0 8px 30px -4px rgba(1, 119, 172, 0.5);
              background-color: #0177ac;
            }
            
            .contact-form .form-control {
              border: none;
              border-bottom: 1px solid #20247b;
              background: transparent;
              border-radius: 0;
              padding-left: 0;
              box-shadow: none !important;
            }
            .contact-form .form-control:focus {
              border-bottom: 1px solid #fc5356;
            }
            .contact-form .form-control.invalid {
              border-bottom: 1px solid #ff0000;
            }
            .contact-form .send {
              margin-top: 20px;
            }
            @media (max-width: 767px) {
              .contact-form .send {
                margin-bottom: 20px;
              }
            }
            
            .section-title h2 {
                font-weight: 700;
                color: #20247b;
                font-size: 45px;
                margin: 0 0 15px;
                border-left: 5px solid #fc5356;
                padding-left: 15px;
            }
            .section-title {
                padding-bottom: 45px;
            }
            .contact-form .send {
                margin-top: 20px;
            }
            .px-btn {
                padding: 0 50px 0 20px;
                line-height: 60px;
                position: relative;
                display: inline-block;
                color: #20247b;
                background: none;
                border: none;
            }
            .px-btn:before {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                display: block;
                border-radius: 30px;
                background: transparent;
                border: 1px solid rgba(252, 83, 86, 0.6);
                border-right: 1px solid transparent;
                -moz-transition: ease all 0.35s;
                -o-transition: ease all 0.35s;
                -webkit-transition: ease all 0.35s;
                transition: ease all 0.35s;
                width: 60px;
                height: 60px;
            }
            .px-btn .arrow {
                width: 13px;
                height: 2px;
                background: currentColor;
                display: inline-block;
                position: absolute;
                top: 0;
                bottom: 0;
                margin: auto;
                right: 25px;
            }
            .px-btn .arrow:after {
                width: 8px;
                height: 8px;
                border-right: 2px solid currentColor;
                border-top: 2px solid currentColor;
                content: "";
                position: absolute;
                top: -3px;
                right: 0;
                display: inline-block;
                -moz-transform: rotate(45deg);
                -o-transform: rotate(45deg);
                -ms-transform: rotate(45deg);
                -webkit-transform: rotate(45deg);
                transform: rotate(45deg);
            }
            
            
            .event-info {
                display: flex; /* Utilisez flexbox pour aligner les éléments horizontalement */
                justify-content: space-between; /* Placez le type d'événement à gauche et le bouton "Partager" à droite */
                align-items: center; /* Centrez verticalement les éléments */
            }
            
            .share-button button {
                background-color: gray; /* Couleur de fond du bouton */
                color: #fff; /* Couleur du texte du bouton */
                padding: 5px 10px; /* Espacement interne du bouton */
                border: none; /* Supprimez la bordure du bouton si nécessaire */
                cursor: pointer; /* Changez le curseur au survol */
            }
            
            /* Styles for icon buttons */
            .btn-icon {
              padding: 0;
              border: none;
              background: none;
              font-size: 36px; /* Taille agrandie des icônes */
              color: #000;
              display: flex;
              flex-direction: column;
              align-items: center; /* Centre les icônes horizontalement */
              justify-content: center; /* Centre les icônes verticalement */
              transition: transform 0.2s; /* Ajout d'une transition pour le survol */
              cursor: pointer;
            }
            
            /* Couleurs des boutons d'icônes */
            #whatsapp-share {
              color: #25D366;
            }
            
            #facebook-share {
              color: #1877F2;
            }
            
            #twitter-share {
              color: #1DA1F2;
            }
            
            #instagram-share {
              color: #E4405F;
            }
            
            /* Style de survol */
            .btn-icon:hover {
              transform: scale(1.2); /* Agrandir l'icône au survol */
            }
            
            .custom-close-button {
              background-color: transparent; /* Couleur de fond */
              color: black; /* Couleur du texte */
              border: none; /* Supprimez la bordure si nécessaire */
              border-radius: 50%; /* Pour créer un bouton rond */
              font-size: 50px; /* Taille de la police */
              width: 30px; /* Largeur du bouton */
              height: 30px; /* Hauteur du bouton */
              line-height: 0; /* Centrer verticalement le texte */
            }
            
            .custom-close-button:hover {
              background-color: transparent; /* Couleur de fond au survol */
              cursor: pointer; /* Curseur de la main au survol */
            }
            
            .comment-form textarea {
                  width: 100%;
                  height: 100px;
                  resize: none;
                  margin-bottom: 10px;
                }
            
                .comment-form button {
                  padding: 10px 20px;
                }
            
                #commentaires-container {
                  height: 200px;
                  overflow-y: auto;
                }
            
              </style>
            {% endblock %}
            
            {% block content %}
            
            <div class="blog-single gray-bg">
              <div class="container">
                  <div class="row align-items-start">
                      <div class="col-lg-8 m-15px-tb">
                          <article class="article">
                              <div class="article-img">
                                {% if evenement.photo %}
                                {% if evenement.photo.endswith(".mp4") or evenement.photo.endswith(".avi") or evenement.photo.endswith(".mov") %}
                                  <video class="card-img-top" controls>
                                    <source src="../{{ evenement.photo }}" type="video/mp4" style="height: 70vh; width: 100%;">
                                    Your browser does not support the video tag.
                                  </video>
                                {% else %}
                                  <img src="../{{ evenement.photo }}" alt="Media de l'événement" class="card-img-top" style="height: 70vh; width: 100%;">
                                {% endif %}
                              {% else %}
                                <img src="../static/image/2.png" alt="Image par défaut" class="card-img-top" style="height: 70vh; width: 100%;">
                              {% endif %}
                              </div>
                              <div class="article-title">
                                <div class="event-info">
                                  <h6><a href="#">{{ evenement.type_ev }}</a></h6>
                                  <!-- Ajoutez le bouton "Partager" ici -->
            
                                  <div class="share-container share-button">
                                    {% if evenement.cd %}
                                    <button class="btn btn session-button" style="background-color: blue; color: white;" onclick="window.location.href='/room/{{ evenement.cd }}'">Accéder</button>
                                  {% endif %}
                                    <button class="btn" data-toggle="modal" data-target="#shareModal" data-tooltip="Partager l'evenement">
                                      <i class="fas fa-share-square"></i>
                                    </button>
                                    
                                  </div>
                              </div>
            
                                  <h2>{{ evenement.Nom }}</h2>
                        
                                  <div class="media">
                                      <div class="media-body">
                                          <label>{{ evenement.date }}</label>
                                          <span>Organisé par {{ evenement.organizer.nom }} {{ evenement.organizer.prenom }}</span>
                                      </div>
                                  </div>
                              </div>
                              
                              <div class="article-content">
                                  <p>{{ evenement.description }}</p>
                                </div>
                          </article>
                      </div>
                      <div class="col-lg-4 m-15px-tb blog-aside">
                          <!-- Author -->
                          <div class="widget widget-author">
                              <div class="widget-body">
                                <div class="container" style="width: fit-content;background-color: white;height: fit-content;padding-left: 10px;padding-right: 10px;padding-top: 30px;text-align: center;">
                  
                                  <p><strong>Localisation :</strong> {{ evenement.pays }} , {{ evenement.ville }} </p>
                                  <p><strong>Nombre de place total :</strong> {{ evenement.nbplace }}</p>
                                  <p><strong>Nombre de place restant:</strong> {{evenement.nbplace - evenement.nbplace_occupe}}</p>
                                  <p><strong>En ligne :</strong> {{ evenement.live }}</p>
                                  <hr>
                                  <p><i class="fa fa-eye"></i> {{ evenement.vue }}</p>
                            </div>
                              </div>
                          </div>
                          <!-- End Author -->
                          <!-- Latest Post -->
                          <div class="widget widget-latest-post">
                              <div class="widget-title">
                                  <h3>Autres {{ evenement.type_ev }} </h3>
                              </div>
                              <div class="widget-body">
                                {% for event in random_events %}
                                <div class="latest-post-aside media">
                                  <div class="lpa-left media-body">
                                      <div class="lpa-title">
                                          <h5><a href="{{ url_for('details_evenements', idev=event.id_evenement) }}" style="text-decoration: none;">{{ event.Nom }}</a></h5>
                                      </div>
                                      <div class="lpa-meta">
                                          <p style="font-size: 14px;">Organisé par {{ event.organizer.nom }} {{ event.organizer.prenom }}
                                              <br>
                                              {{ evenement.date }}</p>
                                      </div>
                                  </div>
                                  <div class="lpa-right">
                                      <div class="image-container" style="text-align: center; display: flex; justify-content: center; align-items: center; height: 100%;">
                                      </div>
                                  </div>
                              </div>
                              
                                  {% endfor %}
                              </div>
                          </div>
                          <!-- End Latest Post -->
                      </div>
            
            
                      
                  </div>
              </div>
            </div>
            
            <!-- Share Modal -->
            <div class="modal fade" id="shareModal" tabindex="-1" role="dialog" aria-labelledby="shareModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="shareModalLabel">Partager l'évenement</h5>
                    <button type="button" class="close custom-close-button" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                    
                  </div>
                  <div class="modal-body">
                    <button id="share-toggle" class="btn" style="background-color: transparent;"></button>
                    <div id="share-options" class="show-options text-center">
                      <!-- Share buttons with icons for WhatsApp, Facebook, Twitter, Instagram -->
                      <div class="btn-group" role="group">
                        <button id="whatsapp-share" class="btn btn-icon btn-inline btn-spacing">
                          <i class="fab fa-whatsapp fa-lg"></i> 
                        </button>
                        <button id="facebook-share" class="btn btn-icon btn-inline btn-spacing" style="margin-left: 20px;">
                          <i class="fab fa-facebook fa-lg"></i> 
                        </button>
                        <button id="twitter-share" class="btn btn-icon btn-inline btn-spacing" style="margin-left: 20px;">
                          <i class="fab fa-twitter fa-lg"></i> 
                        </button>
                        <button id="instagram-share" class="btn btn-icon btn-inline btn-spacing" style="margin-left: 20px;">
                          <i class="fab fa-instagram fa-lg"></i> 
                        </button>
                      </div>
                    </div>
                   <!-- Input field to copy the link -->
                    <div class="input-group" style="margin-top: 50px;">
                      <input type="text" id="eventLink" class="form-control" value="http://127.0.0.1:5000/details_evenements/{{evenement.id_evenement}}" readonly>
                      <div class="input-group-append">
                        <button id="copy-link-button" class="btn btn-secondary">Copier le lien</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            
            <div class="container">
              <form method="POST" >   
                <div class="comment-form" style="margin-bottom: 20px;">
                  <textarea name="commentaire" placeholder="Write a comment..."></textarea>
                  <button class="btn btn" style="background-color: blue;color: white;scale: 0.8;"><i class="fa fa-paper-plane" ></i></button>
                </div>
              </form>  
            <hr>
            <div id="comment-container"  >
              {% for commentaire in commentaires | reverse %}
              <div class="commentaire" style="background-color: white; border-radius: 10px; padding: 10px 20px 20px 20px;width: 66%;margin-bottom: 10px;" data-comment-id="{{ commentaire.id }}">
                  <div class="auteur"><strong>{{ commentaire.commentateur.nom }} {{ commentaire.commentateur.prenom }}</strong></div>
                  <div class="contenu">{{ commentaire.commentaire }}</div>
              </div>
              {% endfor %}
              
              <button id="load-more" style="background-color: transparent;color: blue;text-decoration: underline;border: none;">Voir plus</button>
            </div>
            </div>
            <script>
              document.getElementById("copy-link-button").addEventListener("click", function() {
                // Sélectionne l'input contenant le lien
                const linkInput = document.getElementById("eventLink");
            
                // Sélectionne le texte dans l'input
                linkInput.select();
            
                // Copie le texte dans le presse-papiers
                document.execCommand('copy');
            
                // Désélectionne le texte
                linkInput.blur(); // Cela désélectionne le texte pour éviter de le voir en surbrillance
            
                // Affiche un message ou effectue d'autres actions après la copie
                alert("Lien copié avec succès !");
            });
            
            </script>
            
            <script>
              const shareToggle = document.getElementById("share-toggle");
              const shareOptions = document.getElementById("share-options");
            
              shareToggle.addEventListener("click", function() {
                shareOptions.classList.toggle("show-options");
              });
            
              document.getElementById("facebook-share").addEventListener("click", function() {
                // URL de partage Facebook
                const url = 'https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(window.location.href);
                window.open(url, 'Partager sur Facebook', 'width=600,height=400');
              });
            
              document.getElementById("twitter-share").addEventListener("click", function() {
                // URL de partage Twitter
                const url = 'https://twitter.com/intent/tweet?url=' + encodeURIComponent(window.location.href) + '&text=' + encodeURIComponent("Découvrez cet événement génial : " + "{{ evenement.Nom }}");
                window.open(url, 'Partager sur Twitter', 'width=600,height=400');
              });
            
              document.getElementById("whatsapp-share").addEventListener("click", function() {
                // URL de partage WhatsApp (pour le web)
                const text = encodeURIComponent("Découvrez cet événement génial : " + "{{ evenement.Nom }}");
                const webUrl = 'https://wa.me/?text=' + text + '%20' + encodeURIComponent(window.location.href);
            
                // URL de partage WhatsApp (pour mobile)
                const mobileUrl = 'whatsapp://send?text=' + text + '%20' + encodeURIComponent(window.location.href);
            
                // Vérifiez si l'utilisateur est sur mobile ou web et utilisez l'URL appropriée
                if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                  window.location.href = mobileUrl; // Ouvre WhatsApp sur mobile
                } else {
                  window.open(webUrl, 'Partager sur WhatsApp', 'width=600,height=400'); // Ouvre WhatsApp sur le web
                }
              });
            
              document.getElementById("instagram-share").addEventListener("click", function() {
                // URL de partage Instagram
                const url = 'https://www.instagram.com/share?url=' + encodeURIComponent(window.location.href);
                window.open(url, 'Partager sur Instagram', 'width=600,height=400');
              });
            </script>
            <script>
              // Fonction pour afficher le commentaire sélectionné
              function afficherCommentaire(event) {
                const commentaireIndex = event.target.value;
                const commentaire = commentaires[commentaireIndex];
            
                const commentairesDiv = document.getElementById("commentaires");
                commentairesDiv.textContent = commentaire.commentaire;
              }
              const commentContainer = document.getElementById("comment-container");
              const loadMoreButton = document.getElementById("load-more");
              const comments = document.querySelectorAll(".commentaire");
              let visibleComments = 3;
              const commentsPerLoad = 3;
            
              loadMoreButton.addEventListener("click", function () {
                for (let i = visibleComments; i < visibleComments + commentsPerLoad && i < comments.length; i++) {
                  comments[i].style.display = "block";
                }
                visibleComments += commentsPerLoad;
            
                // Vérifie si tous les commentaires ont été affichés
                if (visibleComments >= comments.length) {
                  loadMoreButton.style.display = "none";
                }
              });
            
              // Cache les commentaires initialement
              for (let i = visibleComments; i < comments.length; i++) {
                comments[i].style.display = "none";
              }
            
              if (comments.length <= visibleComments) {
                loadMoreButton.style.display = "none";
              }
            </script>
            
            {% endblock %}





            {% extends "base.html" %}

            {% block style %}
              <style>
                body, html {
                  background-color: #f5f5f5;
                }
            
                div.scrollmenu {
                  background-color: transparent;
                  overflow: auto;
                  white-space: nowrap;
                }
            
                .btn {
                  display: inline-block;
                  padding: 5px;
                  text-align: center;
                  text-decoration: none;
                  background-color: #1461d3;
                  color: white;
                  border: none;
                  cursor: pointer;
                }
            
                .btn.active {
                  background-color: black;
                }
            
                .col-1 ul {
                  list-style-type: none;
                  padding: 0;
                }
            
                .col-1 ul li {
                  margin-bottom: 10px;
                }
            
                .col-1 ul li a {
                  text-decoration: none;
                  color: white;
                  font-weight: bold;
                  font-size: 18px;
                }
            
                .col-1 ul li a:hover {
                  color: #007bff;
                }
            
            
                .btn.active {
                  background-color: rgb(255, 255, 255);
                }
            
                .content-section {
                  display: none;
                }
            
                h1{
              text-align:center;
              margin-bottom:50px;
              margin-top:50px;
            }
            .blog-card-blog {
                margin-top: 30px;
            }
            .blog-card {
                display: inline-block;
                position: relative;
                width: 100%;
                margin-bottom: 30px;
                border-radius: 6px;
                color: rgba(0, 0, 0, 0.87);
                background: #fff;
                box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
            }
            .blog-card .blog-card-image {
                height: 60%;
                position: relative;
                overflow: hidden;
                margin-left: 15px;
                margin-right: 15px;
                margin-top: -30px;
                border-radius: 6px;
                box-shadow: 0 16px 38px -12px rgba(0, 0, 0, 0.56), 0 4px 25px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2);
            }
            .blog-card .blog-card-image img {
                width: 100%;
                height: 100%;
                border-radius: 6px;
                pointer-events: none;
            }
            .blog-card .blog-table {
                padding: 15px 30px;
            }
            .blog-table {
                margin-bottom: 0px;
            }
            .blog-category {
                position: relative;
                line-height: 0;
                margin: 15px 0;
            }
            .blog-text-success {
                color: #28a745!important;
            }
            .blog-card-blog .blog-card-caption {
                margin-top: 5px;
            }
            .blog-card-caption {
                font-weight: 700;
                font-family: "Roboto Slab", "Times New Roman", serif;
            }
            .fa {
                display: inline-block;
                font: normal normal normal 14px/1 FontAwesome;
                font-size: inherit;
                text-rendering: auto;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }
            .blog-card-caption, .blog-card-caption a {
                color: #333;
                text-decoration: none;
            }
            
            p {
                color: #3C4857;
            }
            
            p {
                margin-top: 0;
                margin-bottom: 1rem;
            }
            .blog-card .ftr {
                margin-top: 15px;
            }
            .blog-card .ftr .author {
                color: #888;
            }
            
            .blog-card .ftr div {
                display: inline-block;
            }
            .blog-card .author .avatar {
                width: 36px;
                height: 36px;
                overflow: hidden;
                border-radius: 50%;
                margin-right: 5px;
            }
            .blog-card .ftr .stats {
                position: relative;
                top: 1px;
                font-size: 14px;
            }
            .blog-card .ftr .stats {
                float: right;
                line-height: 30px;
            }
            
            .blog-card {
                transition: transform 0.3s ease-in-out;
              }
            
              .blog-card:hover {
                transform: scale(1.05); /* Augmenter l'échelle au survol */
              }
              
            /* Style pour le conteneur de la barre de recherche */
            .search-container {
              display: flex;
              justify-content: center;
              align-items: center;
              margin-bottom: 20px;
            }
            
            /* Style pour le champ de recherche */
            .search-input {
              padding: 10px;
              font-size: 16px;
              border: 1px solid #ccc;
              border-radius: 5px 0 0 5px;
              width: 250px; /* Ajustez la largeur selon vos préférences */
            }
            
            /* Style pour le bouton de recherche */
            .search-button {
              padding: 10px 15px;
              font-size: 16px;
              background-color: #007bff; /* Couleur de fond */
              color: white;
              border: 1px solid gray; /* Ajoutez une bordure */
              border-radius: 0 5px 5px 0;
              cursor: pointer;
            }
            
            /* Style pour le bouton de recherche au survol */
            .search-button:hover {
              background-color: #0264cc; /* Couleur de fond au survol */
              border: 1px solid gray; /* Bordure au survol */
            }
            
            
              </style>
            {% endblock %}
            
            {% block content %}
              <div class="container">
            
                <div class="search-container" style="margin-top: 30px;">
                  <input type="text" id="searchInput" class="search-input" placeholder="Rechercher par nom d'événement">
                  <button onclick="searchEvents()" class="search-button">&#128269;</button>
                </div>
                   
            
                <div class="row">
                  <div class="col-1" style="margin-top: 50px;">
                    <ul>
                      <li>
                        <a href="/ajouterevenement" title="Ajouter un événement">
                          <i class="fas fa-calendar-plus" style="color: blue;"></i>
                        </a>
                      </li>
                      <li>
                        <a href="/my_events" title="Tableau de bord">
                          <i class="fas fa-chart-line" style="color: blue;">
                          </i>
                        </a>
                      </li>
                      <li>
                        <a href="/mesevenements" title="Mes événements">
                          <i class="fas fa-calendar" style="color: blue;">
                            <span style="background-color: red; scale: 1; float: right; border-radius: 60%; color: white; font-size: 10px; font-family: 'Kanit'; padding: 2px; height: 15px; width: 15px; text-align: center;">
                              {{ne}}
                            </span>
                          </i>
                        </a>
                      </li>
                    </ul>
                  </div>
            
                  <div class="col-11">
                    <div class="scrollmenu" id="myTabs" style="margin-top: 50px;">
                      <button class="btn" data-category="all" onclick="showContent(this)">Tous</button>
                      <button class="btn" data-category="seminaire" onclick="showContent(this)">Séminaire</button>
                      <button class="btn" data-category="cours" onclick="showContent(this)">Cours</button>
                      <button class="btn" data-category="projet" onclick="showContent(this)">Présentation de projet</button>
                      <button class="btn" data-category="essai" onclick="showContent(this)">Essai de soutenance</button>
                      <button class="btn" data-category="competition" onclick="showContent(this)">Compétition</button>
                      <button class="btn" data-category="genie" onclick="showContent(this)">Génie en Herbe</button>
                      <button class="btn" data-category="football" onclick="showContent(this)">Football</button>
                      <button class="btn" data-category="party" onclick="showContent(this)">Party</button>
                      <button class="btn" data-category="autre" onclick="showContent(this)">Autre</button>
                    </div>
                  </div>
                </div>
            
                <div class="row">
                  <div class="col-1">
                  </div>
            
                  <div class="col-11">
                    <!-- Content sections for different categories -->
                <div class="content-section" id="content-all">
                  <div class="row mt-n5">
                    
                  
                    {% for event in events %}
                    
                    <div class="col-md-4">  
                      <div class="blog-card blog-card-blog">
                        <div class="blog-card-image">
                          {% if event.photo != "" %}
                          {% if event.photo.endswith(".mp4") or event.photo.endswith(".avi") or event.photo.endswith(".mov") %}
                            <video class="img-fluid" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;" controls>
                              <source src="{{ event.photo }}" type="video/mp4">
                              Your browser does not support the video tag.
                            </video>
                          {% else %}
                            <img src="{{ event.photo }}" class="img-fluid" alt="Media de l'événement" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">
                          {% endif %}
                        {% else %}
                          <img src="../static/image/2.png" class="img-fluid" alt="Image par défaut" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">
                        {% endif %}
                            <div class="ripple-cont"></div>
                        </div>
                          <div class="blog-table">
                                  <h6 class="blog-category blog-text-success">{{ event.type_ev }}</h6>
                                  <h4 class="blog-card-caption">
                                      <a href="/details_evenements/{{event.id_evenement}}">{{ event.Nom }}</a>
                                       </h4>
                                  <div class="blog-card-description">
                                    <p><i class="far fa-calendar-alt"></i> <strong><span style="color: red;">{{event.date}}</span></strong></p>
            
                                      {% if event.live == "Oui" %}
                                        <p><i class="fas fa-globe"></i> En ligne {{event.pays}}, {{event.ville}}</p>
                                      {% else %}
                                        <p><i class="fas fa-map-marker-alt"></i> <strong>{{event.pays}}, {{event.ville}}</strong></p>
                                      {% endif %}
            
                                      <p><i class="far fa-eye"></i> <strong>{{event.vue}}</strong></p>
            
                                </div>
                          
                            <div class="ftr">
                                <div class="author">
                                    <a style="text-decoration: none;"> <img src="{{ event.organizer.photo }}"  class="avatar img-raised"> <span class="organizer-name">{{ event.organizer.nom }} {{ event.organizer.prenom }}</span> </a>
                                </div>
            
            
                            </div>
                        </div>
                      </div>
                    </div>
                    {% endfor %}
                  </div>     
                 </div>
            
                 <div class="content-section" id="content-seminaire">
                  <div class="row">
                    {% for event in events %}
                    {% if event.type_ev == "Seminaire" %}
                    <div class="col-md-4">
                      <div class="blog-card blog-card-blog">
                        <div class="blog-card-image">
                          {% if event.photo != "" %}
                          {% if event.photo.endswith(".mp4") or event.photo.endswith(".avi") or event.photo.endswith(".mov") %}
                            <video class="img-fluid" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;" controls>
                              <source src="{{ event.photo }}" type="video/mp4">
                              Your browser does not support the video tag.
                            </video>
                          {% else %}
                            <img src="{{ event.photo }}" class="img-fluid" alt="Media de l'événement" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">
                          {% endif %}
                        {% else %}
                          <img src="../static/image/2.png" class="img-fluid" alt="Image par défaut" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">
                        {% endif %}
                            <div class="ripple-cont"></div>
                        </div>
                          <div class="blog-table">
                                  <h6 class="blog-category blog-text-success">{{ event.type_ev }}</h6>
                                  <h4 class="blog-card-caption">
                                      <a href="/details_evenements/{{event.id_evenement}}">{{ event.Nom }}</a>
                                  </h4>
                                  <div class="blog-card-description">
                                    <p><i class="far fa-calendar-alt"></i> <strong><span style="color: red;">{{event.date}}</span></strong></p>
            
                                    {% if event.live == "Oui" %}
                                      <p><i class="fas fa-globe"></i> En ligne</p>
                                    {% else %}
                                      <p><i class="fas fa-map-marker-alt"></i> <strong>{{event.pays}}, {{event.ville}}</strong></p>
                                    {% endif %}
            
                                    <p><i class="far fa-eye"></i> <strong>{{event.vue}}</strong></p>
                                </div>
                          
                            <div class="ftr">
                                <div class="author">
                                    <a style="text-decoration: none;"> <img src="{{ event.organizer.photo }}"  class="avatar img-raised"> <span class="organizer-name">{{ event.organizer.nom }} {{ event.organizer.prenom }}</span> </a>
                                </div>
            
            
                            </div>
                        </div>
                    </div>
                    </div>
                  {% endif %}    
                    {% endfor %}
                  </div>
                 </div>
                 <div class="content-section" id="content-cours">
                  <div class="row">
                    {% for event in events %}
                    {% if event.type_ev == "Cours" %}
                    <div class="col-md-4">
                      <div class="blog-card blog-card-blog">
                        <div class="blog-card-image">
                          {% if event.photo != "" %}
                          {% if event.photo.endswith(".mp4") or event.photo.endswith(".avi") or event.photo.endswith(".mov") %}
                            <video class="img-fluid" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;" controls>
                              <source src="{{ event.photo }}" type="video/mp4">
                              Your browser does not support the video tag.
                            </video>
                          {% else %}
                            <img src="{{ event.photo }}" class="img-fluid" alt="Media de l'événement" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">
                          {% endif %}
                        {% else %}
                          <img src="../static/image/2.png" class="img-fluid" alt="Image par défaut" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">
                        {% endif %}
                            <div class="ripple-cont"></div>
                        </div>
                          <div class="blog-table">
                                  <h6 class="blog-category blog-text-success">{{ event.type_ev }}</h6>
                                  <h4 class="blog-card-caption">
                                      <a href="/details_evenements/{{event.id_evenement}}">{{ event.Nom }}</a>
                                  </h4>
                                  <div class="blog-card-description">
                                    <p><i class="far fa-calendar-alt"></i> <strong><span style="color: red;">{{event.date}}</span></strong></p>
            
                                    {% if event.live == "Oui" %}
                                      <p><i class="fas fa-globe"></i> En ligne</p>
                                    {% else %}
                                      <p><i class="fas fa-map-marker-alt"></i> <strong>{{event.pays}}, {{event.ville}}</strong></p>
                                    {% endif %}
            
                                    <p><i class="far fa-eye"></i> <strong>{{event.vue}}</strong></p>
                                </div>
                          
                            <div class="ftr">
                                <div class="author">
                                    <a style="text-decoration: none;"> <img src="{{ event.organizer.photo }}"  class="avatar img-raised"> <span class="organizer-name">{{ event.organizer.nom }} {{ event.organizer.prenom }}</span> </a>
                                </div>
            
            
                            </div>
                        </div>
                    </div>
                    </div>
                  {% endif %}    
                    {% endfor %}
                  </div>
                  </div>
                  <div class="content-section" id="content-projet">
                    <div class="row">
                      {% for event in events %}
                      {% if event.type_ev == "Presentation" %}
                      <div class="col-md-4">
                        <div class="blog-card blog-card-blog">
                          <div class="blog-card-image">
                            {% if event.photo != "" %}
                            {% if event.photo.endswith(".mp4") or event.photo.endswith(".avi") or event.photo.endswith(".mov") %}
                              <video class="img-fluid" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;" controls>
                                <source src="{{ event.photo }}" type="video/mp4">
                                Your browser does not support the video tag.
                              </video>
                            {% else %}
                              <img src="{{ event.photo }}" class="img-fluid" alt="Media de l'événement" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">
                            {% endif %}
                          {% else %}
                            <img src="../static/image/2.png" class="img-fluid" alt="Image par défaut" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">
                          {% endif %}
                              <div class="ripple-cont"></div>
                          </div>
                            <div class="blog-table">
                                    <h6 class="blog-category blog-text-success">{{ event.type_ev }}</h6>
                                    <h4 class="blog-card-caption">
                                        <a href="/details_evenements/{{event.id_evenement}}">{{ event.Nom }}</a>
                                    </h4>
                                    <div class="blog-card-description">
                                      <p><i class="far fa-calendar-alt"></i> <strong><span style="color: red;">{{event.date}}</span></strong></p>
            
                                      {% if event.live == "Oui" %}
                                        <p><i class="fas fa-globe"></i> En ligne</p>
                                      {% else %}
                                        <p><i class="fas fa-map-marker-alt"></i> <strong>{{event.pays}}, {{event.ville}}</strong></p>
                                      {% endif %}
            
                                      <p><i class="far fa-eye"></i> <strong>{{event.vue}}</strong></p>
                                  </div>
                            
                              <div class="ftr">
                                  <div class="author">
                                      <a style="text-decoration: none;"> <img src="{{ event.organizer.photo }}"  class="avatar img-raised"> <span class="organizer-name">{{ event.organizer.nom }} {{ event.organizer.prenom }}</span> </a>
                                  </div>
              
              
                              </div>
                          </div>
                      </div>
                      </div>
                    {% endif %}    
                      {% endfor %}
                    </div>
                  </div>
                  <div class="content-section" id="content-essai">
                    <div class="row">
                      {% for event in events %}
                      {% if event.type_ev == "Essai de soutenance" %}
                      <div class="col-md-4">
                        <div class="blog-card blog-card-blog">
                          <div class="blog-card-image">
                            {% if event.photo != "" %}
                            {% if event.photo.endswith(".mp4") or event.photo.endswith(".avi") or event.photo.endswith(".mov") %}
                              <video class="img-fluid" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;" controls>
                                <source src="{{ event.photo }}" type="video/mp4">
                                Your browser does not support the video tag.
                              </video>
                            {% else %}
                              <img src="{{ event.photo }}" class="img-fluid" alt="Media de l'événement" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">
                            {% endif %}
                          {% else %}
                            <img src="../static/image/2.png" class="img-fluid" alt="Image par défaut" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">
                          {% endif %}
                              <div class="ripple-cont"></div>
                          </div>
                            <div class="blog-table">
                                    <h6 class="blog-category blog-text-success">{{ event.type_ev }}</h6>
                                    <h4 class="blog-card-caption">
                                        <a href="/details_evenements/{{event.id_evenement}}">{{ event.Nom }}</a>
                                    </h4>
                                    <div class="blog-card-description">
                                      <p><i class="far fa-calendar-alt"></i> <strong><span style="color: red;">{{event.date}}</span></strong></p>
            
                                      {% if event.live == "Oui" %}
                                        <p><i class="fas fa-globe"></i> En ligne</p>
                                      {% else %}
                                        <p><i class="fas fa-map-marker-alt"></i> <strong>{{event.pays}}, {{event.ville}}</strong></p>
                                      {% endif %}
            
                                      <p><i class="far fa-eye"></i> <strong>{{event.vue}}</strong></p>
                                  </div>
                            
                              <div class="ftr">
                                  <div class="author">
                                      <a style="text-decoration: none;"> <img src="{{ event.organizer.photo }}"  class="avatar img-raised"> <span class="organizer-name">{{ event.organizer.nom }} {{ event.organizer.prenom }}</span> </a>
                                  </div>
              
              
                              </div>
                          </div>
                      </div>
                      </div>
                    {% endif %}    
                      {% endfor %}
                    </div>
                  </div>
                  <div class="content-section" id="content-competition">
                    <div class="row">
                      {% for event in events %}
                      {% if event.type_ev == "Competition" %}
                      <div class="col-md-4">
                        <div class="blog-card blog-card-blog">
                          <div class="blog-card-image">
                            {% if event.photo != "" %}
                            {% if event.photo.endswith(".mp4") or event.photo.endswith(".avi") or event.photo.endswith(".mov") %}
                              <video class="img-fluid" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;" controls>
                                <source src="{{ event.photo }}" type="video/mp4">
                                Your browser does not support the video tag.
                              </video>
                            {% else %}
                              <img src="{{ event.photo }}" class="img-fluid" alt="Media de l'événement" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">
                            {% endif %}
                          {% else %}
                            <img src="../static/image/2.png" class="img-fluid" alt="Image par défaut" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">
                          {% endif %}
                              <div class="ripple-cont"></div>
                          </div>
                            <div class="blog-table">
                                    <h6 class="blog-category blog-text-success">{{ event.type_ev }}</h6>
                                    <h4 class="blog-card-caption">
                                        <a href="/details_evenements/{{event.id_evenement}}">{{ event.Nom }}</a>
                                    </h4>
                                    <div class="blog-card-description">
                                      <p><i class="far fa-calendar-alt"></i> <strong><span style="color: red;">{{event.date}}</span></strong></p>
            
                                      {% if event.live == "Oui" %}
                                        <p><i class="fas fa-globe"></i> En ligne</p>
                                      {% else %}
                                        <p><i class="fas fa-map-marker-alt"></i> <strong>{{event.pays}}, {{event.ville}}</strong></p>
                                      {% endif %}
            
                                      <p><i class="far fa-eye"></i> <strong>{{event.vue}}</strong></p>
                                  </div>
                            
                              <div class="ftr">
                                  <div class="author">
                                      <a style="text-decoration: none;"> <img src="{{ event.organizer.photo }}"  class="avatar img-raised"> <span class="organizer-name">{{ event.organizer.nom }} {{ event.organizer.prenom }}</span> </a>
                                  </div>
              
              
                              </div>
                          </div>
                      </div>
                      </div>
                    {% endif %}    
                      {% endfor %}
                    </div>
                  </div>
                  <div class="content-section" id="content-genie">
                    <div class="row">
                      {% for event in events %}
                      {% if event.type_ev == "Genie en Herbe" %}
                      <div class="col-md-4">
                        <div class="blog-card blog-card-blog">
                          <div class="blog-card-image">
                            {% if event.photo != "" %}
                            {% if event.photo.endswith(".mp4") or event.photo.endswith(".avi") or event.photo.endswith(".mov") %}
                              <video class="img-fluid" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;" controls>
                                <source src="{{ event.photo }}" type="video/mp4">
                                Your browser does not support the video tag.
                              </video>
                            {% else %}
                              <img src="{{ event.photo }}" class="img-fluid" alt="Media de l'événement" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">
                            {% endif %}
                          {% else %}
                            <img src="../static/image/2.png" class="img-fluid" alt="Image par défaut" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">
                          {% endif %}
                              <div class="ripple-cont"></div>
                          </div>
                            <div class="blog-table">
                                    <h6 class="blog-category blog-text-success">{{ event.type_ev }}</h6>
                                    <h4 class="blog-card-caption">
                                        <a href="/details_evenements/{{event.id_evenement}}">{{ event.Nom }}</a>
                                    </h4>
                                    <div class="blog-card-description">
                                      <p><i class="far fa-calendar-alt"></i> <strong><span style="color: red;">{{event.date}}</span></strong></p>
            
                                      {% if event.live == "Oui" %}
                                        <p><i class="fas fa-globe"></i> En ligne</p>
                                      {% else %}
                                        <p><i class="fas fa-map-marker-alt"></i> <strong>{{event.pays}}, {{event.ville}}</strong></p>
                                      {% endif %}
            
                                      <p><i class="far fa-eye"></i> <strong>{{event.vue}}</strong></p>
                                  </div>
                            
                              <div class="ftr">
                                  <div class="author">
                                      <a style="text-decoration: none;"> <img src="{{ event.organizer.photo }}"  class="avatar img-raised"> <span class="organizer-name">{{ event.organizer.nom }} {{ event.organizer.prenom }}</span> </a>
                                  </div>
              
              
                              </div>
                          </div>
                      </div>
                      </div>
                    {% endif %}    
                      {% endfor %}
                    </div>
                  </div>
                  <div class="content-section" id="content-football">
                    <div class="row">
                      {% for event in events %}
                      {% if event.type_ev == "Football" %}
                      <div class="col-md-4">
                        <div class="blog-card blog-card-blog">
                          <div class="blog-card-image">
                            {% if event.photo != "" %}
                            {% if event.photo.endswith(".mp4") or event.photo.endswith(".avi") or event.photo.endswith(".mov") %}
                              <video class="img-fluid" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;" controls>
                                <source src="{{ event.photo }}" type="video/mp4">
                                Your browser does not support the video tag.
                              </video>
                            {% else %}
                              <img src="{{ event.photo }}" class="img-fluid" alt="Media de l'événement" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">
                            {% endif %}
                          {% else %}
                            <img src="../static/image/2.png" class="img-fluid" alt="Image par défaut" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">
                          {% endif %}
                              <div class="ripple-cont"></div>
                          </div>
                            <div class="blog-table">
                                    <h6 class="blog-category blog-text-success">{{ event.type_ev }}</h6>
                                    <h4 class="blog-card-caption">
                                        <a href="/details_evenements/{{event.id_evenement}}">{{ event.Nom }}</a>
                                    </h4>
                                    <div class="blog-card-description">
                                      <p><i class="far fa-calendar-alt"></i> <strong><span style="color: red;">{{event.date}}</span></strong></p>
            
                                      {% if event.live == "Oui" %}
                                        <p><i class="fas fa-globe"></i> En ligne</p>
                                      {% else %}
                                        <p><i class="fas fa-map-marker-alt"></i> <strong>{{event.pays}}, {{event.ville}}</strong></p>
                                      {% endif %}
            
                                      <p><i class="far fa-eye"></i> <strong>{{event.vue}}</strong></p>
                                  </div>
                            
                              <div class="ftr">
                                  <div class="author">
                                      <a style="text-decoration: none;"> <img src="{{ event.organizer.photo }}"  class="avatar img-raised"> <span class="organizer-name">{{ event.organizer.nom }} {{ event.organizer.prenom }}</span> </a>
                                  </div>
              
              
                              </div>
                          </div>
                      </div>
                      </div>
                    {% endif %}    
                      {% endfor %}
                    </div>
                  </div>
                  <div class="content-section" id="content-party">
                    <div class="row">
                      {% for event in events %}
                      {% if event.type_ev == "Party" %}
                      <div class="col-md-4">
                        <div class="blog-card blog-card-blog">
                          <div class="blog-card-image">
                            {% if event.photo != "" %}
                            {% if event.photo.endswith(".mp4") or event.photo.endswith(".avi") or event.photo.endswith(".mov") %}
                              <video class="img-fluid" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;" controls>
                                <source src="{{ event.photo }}" type="video/mp4">
                                Your browser does not support the video tag.
                              </video>
                            {% else %}
                              <img src="{{ event.photo }}" class="img-fluid" alt="Media de l'événement" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">
                            {% endif %}
                          {% else %}
                            <img src="../static/image/2.png" class="img-fluid" alt="Image par défaut" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">
                          {% endif %}
                              <div class="ripple-cont"></div>
                          </div>
                            <div class="blog-table">
                                    <h6 class="blog-category blog-text-success">{{ event.type_ev }}</h6>
                                    <h4 class="blog-card-caption">
                                        <a href="/details_evenements/{{event.id_evenement}}">{{ event.Nom }}</a>
                                    </h4>
                                    <div class="blog-card-description">
                                      <p><i class="far fa-calendar-alt"></i> <strong><span style="color: red;">{{event.date}}</span></strong></p>
            
                                      {% if event.live == "Oui" %}
                                        <p><i class="fas fa-globe"></i> En ligne</p>
                                      {% else %}
                                        <p><i class="fas fa-map-marker-alt"></i> <strong>{{event.pays}}, {{event.ville}}</strong></p>
                                      {% endif %}
            
                                      <p><i class="far fa-eye"></i> <strong>{{event.vue}}</strong></p>
                                  </div>
                            
                              <div class="ftr">
                                  <div class="author">
                                      <a style="text-decoration: none;"> <img src="{{ event.organizer.photo }}"  class="avatar img-raised"> <span class="organizer-name">{{ event.organizer.nom }} {{ event.organizer.prenom }}</span> </a>
                                  </div>
              
              
                              </div>
                          </div>
                      </div>
                      </div>
                    {% endif %}    
                      {% endfor %}
                    </div>
                  </div>
                  <div class="content-section" id="content-autre">
                    <div class="row">
                      {% for event in events %}
                      {% if event.type_ev == "Autre" %}
                      <div class="col-md-4">
                        <div class="blog-card blog-card-blog">
                          <div class="blog-card-image">
                            {% if event.photo != "" %}
                            {% if event.photo.endswith(".mp4") or event.photo.endswith(".avi") or event.photo.endswith(".mov") %}
                              <video class="img-fluid" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;" controls>
                                <source src="{{ event.photo }}" type="video/mp4">
                                Your browser does not support the video tag.
                              </video>
                            {% else %}
                              <img src="{{ event.photo }}" class="img-fluid" alt="Media de l'événement" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">
                            {% endif %}
                          {% else %}
                            <img src="../static/image/2.png" class="img-fluid" alt="Image par défaut" style="border-top-left-radius: 10px; border-top-right-radius: 10px; height: 200px; object-fit: cover;">
                          {% endif %}
                              <div class="ripple-cont"></div>
                          </div>
                            <div class="blog-table">
                                    <h6 class="blog-category blog-text-success">{{ event.type_ev }}</h6>
                                    <h4 class="blog-card-caption">
                                        <a href="/details_evenements/{{event.id_evenement}}">{{ event.Nom }}</a>
                                    </h4>
                                    <div class="blog-card-description">
                                      <p><i class="far fa-calendar-alt"></i> <strong><span style="color: red;">{{event.date}}</span></strong></p>
            
                                      {% if event.live == "Oui" %}
                                        <p><i class="fas fa-globe"></i> En ligne</p>
                                      {% else %}
                                        <p><i class="fas fa-map-marker-alt"></i> <strong>{{event.pays}}, {{event.ville}}</strong></p>
                                      {% endif %}
            
                                      <p><i class="far fa-eye"></i> <strong>{{event.vue}}</strong></p>
                                  </div>
                            
                              <div class="ftr">
                                  <div class="author">
                                      <a style="text-decoration: none;"> <img src="{{ event.organizer.photo }}"  class="avatar img-raised"> <span class="organizer-name">{{ event.organizer.nom }} {{ event.organizer.prenom }}</span> </a>
                                  </div>
              
              
                              </div>
                          </div>
                      </div>
                      </div>
                    {% endif %}    
                      {% endfor %}
                    </div>
                  </div>
                  </div>
                
              </div>
                <!-- Add content sections for other categories similarly -->
              </div>
            
              <script>
                function showContent(button) {
                  var category = button.getAttribute("data-category");
                  var contentSections = document.querySelectorAll(".content-section");
                  contentSections.forEach(function(section) {
                    section.style.display = "none";
                  });
                  var selectedSection = document.getElementById("content-" + category);
                  selectedSection.style.display = "block";
                  var buttons = document.querySelectorAll(".btn");
                  buttons.forEach(function(btn) {
                    btn.classList.remove("active");
                  });
                  button.classList.add("active");
                  document.getElementById("searchInput").value = "";
                  searchEvents();
                }
            
            
                function calculateLevenshteinDistance(a, b) {
              if (a.length === 0) return b.length;
              if (b.length === 0) return a.length;
            
              const matrix = [];
            
              // Initialize the matrix
              for (let i = 0; i <= b.length; i++) {
                matrix[i] = [i];
              }
            
              for (let j = 0; j <= a.length; j++) {
                matrix[0][j] = j;
              }
            
              // Fill in the matrix
              for (let i = 1; i <= b.length; i++) {
                for (let j = 1; j <= a.length; j++) {
                  if (b.charAt(i - 1) === a.charAt(j - 1)) {
                    matrix[i][j] = matrix[i - 1][j - 1];
                  } else {
                    matrix[i][j] = Math.min(
                      matrix[i - 1][j - 1], // Substitution
                      matrix[i][j - 1] + 1, // Insertion
                      matrix[i - 1][j] + 1  // Deletion
                    );
                  }
                }
              }
            
              return matrix[b.length][a.length];
            }
            function filterByCountry() {
              // Get the selected country from the dropdown
              const selectedCountry = document.getElementById("countryFilter").value.toLowerCase();
            
              // Get all events
              const events = document.querySelectorAll(".col-md-4");
            
              // Iterate through events
              events.forEach(function (event) {
                const eventCountry = event.querySelector(".country").textContent.toLowerCase();
            
                // Check if the event's country matches the selected country or if all countries are selected
                if (selectedCountry === "all" || eventCountry === selectedCountry) {
                  event.style.display = "block";
                } else {
                  event.style.display = "none";
                }
              });
            
              // After filtering by country, also apply the search filter
              searchEvents();
            }
            
            // Update searchEvents to consider the selected country
            function searchEvents() {
              const searchTerm = document.getElementById("searchInput").value.toLowerCase();
              const selectedCountry = document.getElementById("countryFilter").value.toLowerCase();
              const events = document.querySelectorAll(".col-md-4");
            
              events.forEach(function (event) {
                const eventName = event.querySelector("h4 a").textContent.toLowerCase();
                const organizerName = event.querySelector(".organizer-name").textContent.toLowerCase();
                const eventCountry = event.querySelector(".country").textContent.toLowerCase();
            
                // Check if the event meets the search criteria and the country filter
                if (
                  (selectedCountry === "all" || eventCountry === selectedCountry) &&
                  (eventName.includes(searchTerm) ||
                    organizerName.includes(searchTerm) ||
                    calculateLevenshteinDistance(eventName, searchTerm) <= 2 ||
                    calculateLevenshteinDistance(organizerName, searchTerm) <= 2)
                ) {
                  event.style.display = "block";
                } else {
                  event.style.display = "none";
                }
              });
            }
            
            // Set the initial state to display the "Tous" category content
            document.getElementById("content-all").style.display = "block";
            document.querySelector(".btn[data-category='all']").classList.add("active");
            
              </script>
            {% endblock %}






            @app.route('/da')
            def da():
                # Exemple : Nombre total d'événements, nombre d'événements à venir
                total_events = Evenement.query.count()
                upcoming_events = Evenement.query.filter(Evenement.date > datetime.now()).count()
            
                # Répartition des nationalités des participants à tous les événements
                nationalities_distribution = db.session.query(User.nationalite, db.func.count(Participation.id)).join(Participation).group_by(User.nationalite).all()
            
                # Créez la carte du monde avec des marqueurs pour chaque nationalité
                world_map = folium.Map(location=[0, 0], zoom_start=2)
                for nationality, count in nationalities_distribution:
                    # Ajoutez un marqueur pour chaque nationalité
                    folium.Marker(location=[0, 0], popup=f"{nationality}: {count} participants").add_to(world_map)
            
                # Rendu du tableau de bord avec la carte du monde
                return render_template('da.html', total_events=total_events, upcoming_events=upcoming_events, world_map=world_map.get_root().render())