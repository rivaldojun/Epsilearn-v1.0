{% extends "base.html" %}

{% block title %}Details demande|Epsilearn{% endblock %}


{% block content %}
<style>

  body{
    background-color: #f5f5f5;
   
  }
    .card-container1 {
        perspective: 1000px;
        width: 450px;
        height: 450px;
        margin: 50px auto;
        cursor: pointer; /* Ajout de cette ligne pour le curseur */
    }

    .card1 {
        width: 80%;
        height: 80%;
        transform-style: preserve-3d;
        animation: rotate 10s linear infinite;
        transform-origin: center;
    }

    .front, .back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 15px;
    }

    .front {
        background-color: rgb(218, 216, 216);
        padding: 10px;
    }

    .back {
        background-color: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 10px;
        transform: rotateY(180deg);
    }

    @keyframes rotate {
        0% { transform: rotateY(0deg); }
        100% { transform: rotateY(360deg); }
    }
    </style>


    <div class="card-container1">
        <div class="card1">
          <h1 style="text-align: center;">Details</h1>
            <div class="front">
                  <div class="demande-details" style="background-color: transparent;padding: 10px;border-radius: 15px;text-align: center;width: 400px;scale: 0.8;">
                    <p><strong>ID Demande :</strong> {{demand.id_demande}} <span id="idDemande"></span></p>
                    <p><strong>Nom Étudiant :</strong> {{etudiant.nom}} <span id="nomEtudiant"></span></p>
                    <p><strong>Prénom Étudiant : </strong>{{etudiant.prenom}} <span id="prenomEtudiant"></span></p>
                    <p><strong>Statut :</strong> {{demand.statut_demande}}<span id="date1"></span></p>
                    <p><strong>Date 1 : </strong>{{demand.date1}}<span id="date1"></span></p>
                    <p><strong>Date 2 :</strong> {{demand.date2}}<span id="date2"></span></p>
                    {% if demand.statut_demande =="accepte" %}
                    <p><strong>Date acceptée :</strong> {{demand.date_acc}}</strong> <span id="date2"></span></p>
                    {% endif %}
                    {% if demand.statut_demande =="reporte" %}
                    <p><strong>Date proposée :</strong> {{demand.date_propose}}</strong> <span id="date2"></span></p>
                    {% endif %}
                    <p><strong>Matière : </strong>{{demand.matiere}} <span id="matiere"></span></p>
                    <p><strong>Chapitre :</strong> {{demand.chapiter}} <span id="chapitre"></span></p>
                    {% if demand.chapiter != demand.description %}
                    <p><strong>Description : </strong>{{demand.description}}<span id="chapitre"></span></p>
                    {% endif %}
                    {% if demand.fichier %}
                    <p style="text-align: center;color: blue;"><strong><i class="fa fa-download"></i><a href="../{{demand.fichier}}" style="text-decoration: none;" download> Telecharger l'epreuve</a></strong> <span id="date2"></span></p>
                        {% endif %}
            
                </div>
                
                <!-- ... Autres données ... -->
            </div>
            <div class="back" style="font-size: 40px;font-weight: bolder;">
                Epsilearn
            </div>
        </div>
    </div>
    {%endblock %}
    <script>
      const card = document.querySelector(".card1");
    let isDragging = false;
    let startPosX = 0;

    card.addEventListener("mousedown", (e) => {
        e.preventDefault();
        isDragging = true;
        startPosX = e.clientX;
    });

    document.addEventListener("mousemove", (e) => {
        if (!isDragging) return;
        const deltaX = e.clientX - startPosX;
        const rotationDelta = (deltaX / card.clientWidth) * 180;
        card.style.transform = `rotateY(${rotationDelta}deg)`;
    });

    document.addEventListener("mouseup", () => {
        if (!isDragging) return;
        isDragging = false;
    });
    </script>

{% block script %}
{% endblock %}