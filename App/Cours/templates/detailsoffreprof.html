{% extends "base.html" %}

{% block title %}Offres|Epsilearn{% endblock %}

{% block content %}
    <title>Ajouter une offre</title>
    <!-- Inclure les fichiers CSS Bootstrap -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link
    rel="stylesheet"
    href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
    integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"
    crossorigin="anonymous"
  />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Vibur&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Dangrek&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Kanit&display=swap">
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet"
  />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<style>

        /* Styles personnalisés pour le bouton "input file" */
.custom-file {
    position: relative;
}

.custom-file-input {

    top: 0;
    right: 0;
    left: 0;
    bottom: 0;
    opacity: 0;
    z-index: -1;
    background-color: blue;
}

.custom-file-label::after {
    content: "Parcourir"; /* Texte du bouton personnalisé */
    background-color: blue;
    width: 5px;
    color: rgb(203, 201, 201);
}

/* Style pour le bouton "input file" lorsqu'un fichier est sélectionné */
.custom-file-input~.custom-file-label::after {
    background-color: blue;
    width: 5px;
    color: white;
    visibility: hidden;
    content: "Parcourir"; /* Texte du bouton lorsque le fichier est sélectionné */
}
.asm{
    float:right;
    width: 40%;

}
.asm1{
    width: 100%;
    background-color: white;
}
.asm2{
    width: 58%;
}

@media (max-width: 1000px) {
.asm{
    float: none;
    width: 100%;
    
    
}
.asm1{
    float: none;
    width: 100%;
    margin-bottom: 20px;
    
}
.asm2{
    float: none;
    width: 100%;
    
}

}
body{
    background-color: #f5f5f5;
}
.asm12:hover{
    cursor: pointer;
}

/* Media query pour les écrans plus grands (ordinateurs de bureau, grands écrans) */


</style>

    <section class=" container mt-5 section">  
        <h3 class="mb-3 mt-1 " data-animation="fadeInUp" style="animation-duration: 1s;color: rgb(0, 0, 0); font-family: 'Kanit';font-size: 38px;">Details de l'offre</h3>
        <div class="card" style="background-color: #f5f5f5;border: none;margin-top: 70px;">
            <div class="rounded-top text-white d-flex flex-row" id="arr" style="background-color: blue; background-image: url('../{{offre.image_2}}');background-size: cover;height:350px;">
                <div class="ms-4 d-flex flex-column" style="width: 150px;margin-left: 100px;margin-top: 250px;">
                    <img src='../{{offre.image_1}}'
                        alt="Generic placeholder image" class="img-fluid img-thumbnail mt-4 mb-2"
                        style="width: 150px; z-index: 1" id="imagePreview1">
                     <!-- Champ d'image 1 -->
                     <div class="form-group" style="margin-top: -33px;margin-left: 120px;border-radius: 50%;" >
                    </div>
                       
                </div>
                <div class="ms-3 mx-auto"  >
                     <!-- Champ d'image 2 -->
                </div>
        </div>
    
<div class="card-body p-4 text-black" style="margin-top:100px ;">
    <div class="row" >
        <div class="mb-5" >
         <div class="asm" >
            <div class="card shadow-sm mb-3" style="border-radius: 10px;border: none;">
            <div class="col">
                <h4 class="mt-2">Intro</h4>
                <hr>
                <div class="col-md-0">
                     <!-- Champ de nom d'offre -->
                    <div class="form-group">
                        <h3 style="text-align: center;">{{offre.nom_offre}}</h3>
                    </div>
                </div>
                <div class="col-md-0">
                      <!-- Champ de matière -->
                    <div class="form-group">
                        <hr>
                        <h6 style="color: gray;text-align: center;">{{offre.matiere}}<h6>
                    </div>
                </div>
                <div class="col-md-0">
                      <!-- Champ de matière -->
                    <div class="form-group">
                        <hr>
                        <h6 style="color: gray;text-align: center;">{{offre.duree}} hrs/seance <h6>
                    </div>
                </div>
            </div>
        </div>


        <div class="col border shadow-sm asm1" style="border-radius: 10px;border: none;">

            
            {% if offre.horaire!="" %}
            <div class="form-group mt-3">
                <div class="jsc-CompanyCard__description__uOSiy"  style="word-wrap: break-word;text-align: center;"><i class="fas fa-wifi"></i>
                    {{offre.horaire}}</div>
            </div>
            {% endif %}
            {% if offre.horaire_presentiel!="" %}
            <div class="form-group mt-3">
                <div class="jsc-CompanyCard__description__uOSiy"  style="word-wrap: break-word;text-align: center;"><i class="fas fa-chalkboard"></i>
                    {{offre.horaire_presentiel}}</div>
            </div>
            <div class="form-group mt-3">
                <div class="jsc-CompanyCard__description__uOSiy"  style="word-wrap: break-word;text-align: center;"><i class="fas fa-location"></i>
                    {{offre.emplacement}}</div>
            </div>
            {% endif %}
    
            <!-- Conteneur pour les séances dynamiques -->
            <div id="seances-container">
                <!-- Les champs de séances seront ajoutés ici dynamiquement -->
            </div>
            <!-- Bouton pour ajouter une séance -->
    </div>
    <div class="col border shadow-sm asm1 mt-3" style="border-radius: 10px;border: none;" >
        <!-- Champ de nombre de séances par semaine -->
        <h4 class="mt-2">Prix</h4>
                <hr>
        <div class="form-group mt-3">
            <div class="jsc-CompanyCard__description__uOSiy"  style="word-wrap: break-word;font-size: 30px;font-weight: bold;text-align: center;">{{offre.prix}} DHS</div>
        </div>
    </div>

    <div class="col border shadow-sm asm12 mt-3 btn-success" style="border-radius: 10px;border: none;background-color: blue;" >
        <!-- Champ de nombre de séances par semaine -->
        {% if current_user.id!=info_prof.id %}
        <div class="form-group mt-3">
            <div class="jsc-CompanyCard__description__uOSiy"  style="word-wrap: break-word;text-align: center;color: rgb(255, 255, 255);" onclick="window.location.href='/checkoutoffre/{{offre.id}}'">SOUSCRIRE</div>
        </div>
        {% endif %}
    </div>

    </div>
<div class="card shadow-sm asm2" style="padding: 10px;border-radius: 10px;border: none;">
    <h3>Details</h3>
    <hr>
<div class="row">
    <div class="col-md-12 mb-1">
        <div class="form-group ">
            <div class="jsc-CompanyCard__description__uOSiy"  style="word-wrap: break-word;"><i class="far fa-calendar"></i> Du {{ offre.date_debut.strftime('%Y-%m-%d') }} au {{ offre.date_fin.strftime('%Y-%m-%d') }}</div>
        </div>
        <!-- Champ de nombre de places -->
    <div class="form-group">
        <div class="jsc-CompanyCard__description__uOSiy"  style="word-wrap: break-word;color: rgb(0, 0, 0);"><i class="fa fa-user-friends"></i> Il y a <span style="font-weight: bold;color: black;">{{offre.nombre_place_total}} places </span> disponibles</div>

    </div>
    <div class="form-group">
      
        <div class="jsc-CompanyCard__description__uOSiy"  style="word-wrap: break-word;"><i class="fas fa-exclamation-circle" style="color: red;"></i> Il ne reste que <span style="font-weight: bold;">{{offre.nombre_place_total - offre.nombre_place_occupe}}</span> place(s)</div>
    </div>
    <div class="form-group ">
        <div class="jsc-CompanyCard__description__uOSiy"  style="word-wrap: break-word;"><i class="far fa-building"></i> {{ offre.organisation }}</div>
    </div>
    <div class="form-group ">
        <div class="jsc-CompanyCard__description__uOSiy"  style="word-wrap: break-word;"><i class="far fa-phone-alt"></i> {{ offre.Tel }}</div>
    </div>
    </div>
    <div class="form-group ">
        <hr>
        <label for="description mb-3" style="font-weight: bold;font-size: 20px;">Description</label>
        <div class="jsc-CompanyCard__description__uOSiy"  style="word-wrap: break-word;">{{offre.description}}</div>
    </div>

</div>
</div>
<div class="card shadow-sm asm2 mt-3" style="padding: 10px;border-radius: 10px;border: none;">
    <h3>Informations du professeur</h3>
    <hr>
<div class="row">
    <div class="col-md-12 mb-1">
        <div class="form-group ">
            <div class="jsc-CompanyCard__description__uOSiy"  style="word-wrap: break-word;"><i class="fa fa-user"></i> <span style="font-weight: bold;color: black;">{{ info_prof.nom }} {{ info_prof.prenom }}</span></div>
        </div>
        <div class="form-group ">
            <div class="jsc-CompanyCard__description__uOSiy"  style="word-wrap: break-word;"><span style="font-weight: bold;color: black;">E-mail :</span> {{ info_prof.mail }} </div>
        </div>
        <div class="form-group ">
            <div class="jsc-CompanyCard__description__uOSiy"  style="word-wrap: break-word;"><span style="font-weight: bold;color: black;">Discipline enseignee :</span> {{ prof.discipline }} </div>
        </div>
        <div class="form-group">
            <div class="jsc-CompanyCard__description__uOSiy"  style="word-wrap: break-word;color: rgb(0, 0, 0);"><span style="font-weight: bold;color: black;">Nationalite :</span> {{info_prof.nationalite}}</div>
    
        </div>
        <div class="form-group ">
            <div class="jsc-CompanyCard__description__uOSiy"  style="word-wrap: break-word;"><span style="font-weight: bold;color: black;"> Note :</span> {{ prof.etoile }}/5 </div>
        </div>
        <!-- Champ de nombre de places -->
    </div>

</div>
</div>

              </div>
         <!-- Bouton de soumission -->

</section>

<!-- Inclure les fichiers JavaScript Bootstrap (facultatif) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
{% endblock %}
