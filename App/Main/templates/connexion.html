{% extends "base.html" %}
{% block conecter %}
{% endblock %}
{% block nav %}
<nav class="navbar navbar-expand-lg navbar-light bg-transparent" style="display: flex; justify-content: center; height: 40px;">
  <div class="container" style="background-color: none; border-radius: 20px; z-index: 999999; opacity: 0.8; margin-top: 20px; padding: 0 12px;">
      <a class="navbar-brand" href="/accueil" style="color: blue; font-size: 24px;">Epsilearn</a>
  </div>
</nav>

{% endblock %}
{% block content %}
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Page de Connexion|Epsilearn</title>
  <!-- Inclure les fichiers Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <!-- Inclure les fichiers Font Awesome CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
   
    .login-container {
      margin-top: 80px;
    }
    .card {
      border: none;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    .card-header {
      background-color: blue;
      color: #fff;
      text-align: center;
      border-radius: 10px 10px 0 0;
    }
    .info-container {
      background-color: blue;
      height: 80vh;
      padding: 30px;
      text-align: center;
      border-radius: 20px;

    }
    .info-container h2 {
      margin-bottom: 20px;
      
    }
    .info-container p {
      font-size: 18px;
      line-height: 1.6;
      text-align: center;
      
    }
    .info-image {
      max-height: 250px;
      margin-bottom: 20px;
    }
    @font-face {
      font-family: "GothicFont"; /* Nom de la police personnalisée */
      src: url("chemin/vers/le/dossier/fonts/gothic-font.woff") format("woff"); /* Chemin vers le fichier de la police */
      /* Vous pouvez également ajouter d'autres formats ici, comme woff2, pour une meilleure compatibilité avec les navigateurs modernes */
    }

   body {
    background-color: #f5f5f5;
      margin: 0;
    }

    /* Vous pouvez également cibler d'autres éléments spécifiques pour utiliser la police gothique, par exemple : */
    h1, h2, h3 {
      font-family: "GothicFont", sans-serif; /* Utilisez la police gothique pour les titres */
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="row justify-content-center" >
      <div class="col-md-6 col-lg-5 login-container" style="font-family: 'Kanit';" >
        <div style="background-color: #f1f1f1;border-radius: 10px;">
          {% if error_message %}
              <p style="color: red; margin-top: -5px;text-align: center;">{{ error_message }}</p>
          {% endif %}
              </div>
              <br>
        <div class="card" style="border-radius: 20px;" >
          <div class="card-header" style="border-radius: 20px 20px 0 0;">
            <h3 style="font-family: 'Kanit';">Connexion</h3>
          </div>
          <div class="card-body">
            <form action="{{ url_for('Main.connexion') }}" method="post">
              <div class="form-group">
                <label for="username">E-mail</label>
                <input type="email" class="form-control" id="username" placeholder="email" name="email" value="{{ request.form['email']|default('') }}" required>
              </div>
              <div class="form-group">
                <label for="password">Mot de passe</label>
                <div class="input-group">
                  <input type="password" class="form-control" id="password" placeholder="Mot de passe" name="password" required>
                  <div class="input-group-append">
                    <span class="input-group-text">
                      <i class="fa fa-eye-slash" id="togglePassword"></i>
                    </span>
                  </div>
                </div>
              </div>
              <button type="submit" class="btn  btn-block" style="background-color: blue; color: white;font-family: 'Kanit';border-radius: 20px;">Se connecter</button>
              <br>
              <br>
              <p class="inscription-link" style="text-align: center;font-family: 'Kanit';">Vous n'avez pas de compte?<a href="{{url_for('Main.inscription')}}" class="inscription-register-link">S'inscrire</a></p>
              <p class="changermotdepass" style="text-align: center;font-family: 'Kanit';"> <a href="{{url_for('Main.password_reset_request')}}" class="inscription-register-link">Mot de passe oublié ?</a></p>     
            </form>
          </div>
        </div>
      </div>

      <div id="cnt" class="col-md-7 col-lg-7 info-container" >
        <div class="d-flex align-items-center justify-content-center h-100">
          <div style="margin-left: 0%;font-family: 'Kanit';">
            <div id="texte" style="width: 400px;scale: 0.6;margin-left: 0%;margin-top: 60px;font-weight: bolder;font-family:'Kanit', sans-serif;background-color: rgb(255, 255, 255);padding: 20px;border-radius: 20px;opacity: 0.5;text-align: center;">
            </div>
            <div class="info-content" id="infoContent" style="scale: 1;margin-left: 0px;" >
              <!-- Le contenu sera généré dynamiquement ici -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Inclure les fichiers Bootstrap JavaScript -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <script>
    const passwordInput = document.getElementById("password");
    const togglePassword = document.getElementById("togglePassword");

    togglePassword.addEventListener("click", function () {
      const type = passwordInput.getAttribute("type") === "password" ? "text" : "password";
      passwordInput.setAttribute("type", type);
      togglePassword.classList.toggle("fa-eye");
      togglePassword.classList.toggle("fa-eye-slash");
    });

    const infoContent = document.getElementById("infoContent");
    const texte = document.getElementById("texte");
    const contents = [
      {
        title: "BOOKEZ DES COURS",
        image: "/static/image/laptop.png",
        text: "Le savoir est une source de lumière inépuisable. BOOKEZ DES COURS pour élargir votre horizon et embrasser les opportunités de demain....",
        color: "transparent"
      },
      {
        title: "PUBLIEZ DES EVENEMENTS",
        image: "/static/image/evenement1.png",
        text: "Les événements sont les étincelles qui illuminent nos vies. En publiant des événements, vous partagez des moments magiques avec le monde, créant ainsi des souvenirs inoubliables pour vous et les autres....",
        color: "transparent"
      },
      {
        title: "APPRENEZ DES LANGUES",
        image: "/static/image/conf.png",
        text: "Apprendre une langue, c'est s'ouvrir à un monde nouveau. C'est embrasser une nouvelle culture, comprendre ses nuances et élargir ses horizons. Chaque mot est une fenêtre sur un nouvel univers, chaque phrase une invitation à explorer l'inconnu...",
          color: "transparent"
      },
    ];

    // Choisir un contenu aléatoire lors du chargement de la page
    const randomIndex = Math.floor(Math.random() * contents.length);
    const randomContent = contents[randomIndex];
    const el=document.getElementById("cnt")

    const infoImage = document.createElement("img");
    infoImage.setAttribute("src", randomContent.image);
    infoImage.setAttribute("alt", randomContent.title);
    infoImage.classList.add("info-image");
    el.style.backgroundColor=randomContent.color


    const infoTitle = document.createElement("h3");
    infoTitle.style.fontFamily='Kanit'
    infoTitle.style.fontWeight='bold'
    infoTitle.style.color='blue'
    infoTitle.textContent = randomContent.title;

    const infoText = document.createElement("p");
    infoText.textContent = randomContent.text;
    texte.appendChild(infoTitle);
    texte.appendChild(infoText);
    infoContent.appendChild(infoImage);
   
  </script>
  </body>
{% endblock %}
